#pragma checksum "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b525f9d8d5aa895b37708fc7a7f801f3799cd223"
// <auto-generated/>
#pragma warning disable 1591
namespace ItvTicketsService.Client.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using ItvTicketsService.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using ItvTicketsService.Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using ItvTicketsService.Shared.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using ItvTicketsService.Client.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public partial class Index : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(0);
            __builder.AddAttribute(1, "Roles", "Client");
            __builder.AddAttribute(2, "Authorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((TicketsForClient) => (__builder2) => {
                __builder2.OpenElement(3, "div");
                __builder2.AddAttribute(4, "class", "container-fluid container-height");
                __builder2.AddMarkupContent(5, "<br>\r\n            ");
                __builder2.OpenElement(6, "div");
                __builder2.AddAttribute(7, "class", "row");
#nullable restore
#line 16 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                 if (plants != null)
                {

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(8, "div");
                __builder2.AddAttribute(9, "class", "card-body");
                __builder2.OpenElement(10, "div");
                __builder2.AddAttribute(11, "class", "table-responsive");
                __builder2.OpenElement(12, "table");
                __builder2.AddAttribute(13, "class", "table table-bordered");
                __builder2.AddAttribute(14, "id", "dataTable");
                __builder2.AddAttribute(15, "width", "100%");
                __builder2.AddAttribute(16, "cellspacing", "0");
                __builder2.AddMarkupContent(17, "<thead><tr><th>Plant</th>\r\n                                        <th>Company</th>\r\n                                        <th>ticket amount</th></tr></thead>\r\n                                ");
                __builder2.OpenElement(18, "tbody");
#nullable restore
#line 29 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                     foreach (var plnt in plants)
                                    {

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(19, "tr");
                __builder2.OpenElement(20, "td");
                __builder2.AddContent(21, 
#nullable restore
#line 32 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 plnt.Name

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(22, "\r\n                                            ");
                __builder2.OpenElement(23, "td");
#nullable restore
#line 34 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 if (dictCompanyName.ContainsKey(plnt.IdCompany))
                                                    

#line default
#line hidden
#nullable disable
                __builder2.AddContent(24, 
#nullable restore
#line 35 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                     dictCompanyName[plnt.IdCompany]

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(25, "\r\n                                            ");
                __builder2.OpenElement(26, "td");
#nullable restore
#line 38 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 if (dictCompanyTickets.ContainsKey(plnt.IdCompany))
                                                    

#line default
#line hidden
#nullable disable
                __builder2.AddContent(27, 
#nullable restore
#line 39 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                     dictCompanyTickets[plnt.IdCompany]

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 42 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                    }

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 47 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                }

#line default
#line hidden
#nullable disable
                __builder2.OpenComponent<ItvTicketsService.Client.Pages.AddTicketComponentClient>(28);
                __builder2.AddAttribute(29, "OnRefreshParent", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Boolean>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Boolean>(this, 
#nullable restore
#line 49 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                           AddTicketRefresh

#line default
#line hidden
#nullable disable
                )));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(30, "\r\n\r\n                ");
                __builder2.OpenElement(31, "div");
                __builder2.AddAttribute(32, "class", "col");
                __builder2.OpenElement(33, "div");
                __builder2.AddAttribute(34, "class", "card mb-4");
                __builder2.OpenElement(35, "div");
                __builder2.AddAttribute(36, "class", "card-header");
                __builder2.AddMarkupContent(37, "<i class=\"fas fa-table mr-1\"></i>\r\n                            ");
                __builder2.AddContent(38, 
#nullable restore
#line 55 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                             plantName

#line default
#line hidden
#nullable disable
                );
                __builder2.AddMarkupContent(39, " tickets history:\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(40, "\r\n                        ");
                __builder2.OpenElement(41, "div");
                __builder2.AddAttribute(42, "class", "card-body");
                __builder2.OpenElement(43, "div");
                __builder2.AddAttribute(44, "class", "table-responsive");
                __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTable_0(__builder2, 45, 46, 
#nullable restore
#line 60 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                  _ticketService.Tickets

#line default
#line hidden
#nullable disable
                , 47, 
#nullable restore
#line 60 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                 true

#line default
#line hidden
#nullable disable
                , 48, "Sort By", 49, 
#nullable restore
#line 60 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                        true

#line default
#line hidden
#nullable disable
                , 50, "400px", 51, (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTh>(52);
                    __builder3.AddAttribute(53, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_1(__builder4, 54, 55, 
#nullable restore
#line 62 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                          new Func<Tickets, object>(x=>x.TicketId)

#line default
#line hidden
#nullable disable
                        , 56, 
#nullable restore
#line 62 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                      SortDirection.Descending

#line default
#line hidden
#nullable disable
                        , 57, (__builder5) => {
                            __builder5.AddContent(58, "Id");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(59, "\r\n                                        ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(60);
                    __builder3.AddAttribute(61, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_2(__builder4, 62, 63, 
#nullable restore
#line 63 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                          new Func<Tickets, object>(x=>x.CreatedDate)

#line default
#line hidden
#nullable disable
                        , 64, (__builder5) => {
                            __builder5.AddContent(65, "Date");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(66, "\r\n                                        ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(67);
                    __builder3.AddAttribute(68, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(69, "Reason");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(70, "\r\n                                        ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(71);
                    __builder3.AddAttribute(72, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_3(__builder4, 73, 74, 
#nullable restore
#line 65 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                          new Func<Tickets, object>(x=>dictDevices[x.DeviceId])

#line default
#line hidden
#nullable disable
                        , 75, (__builder5) => {
                            __builder5.AddContent(76, "Dev Code");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(77, "\r\n                                        ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(78);
                    __builder3.AddAttribute(79, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(80, "Status");
                    }
                    ));
                    __builder3.CloseComponent();
                }
                , 81, (context) => (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTd>(82);
                    __builder3.AddAttribute(83, "DataLabel", "Id");
                    __builder3.AddAttribute(84, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(85, 
#nullable restore
#line 69 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                               context.TicketId

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(86, "\r\n                                        ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(87);
                    __builder3.AddAttribute(88, "DataLabel", "Date");
                    __builder3.AddAttribute(89, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(90, 
#nullable restore
#line 70 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                 context.CreatedDate.ToShortDateString()

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(91, "\r\n                                        ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(92);
                    __builder3.AddAttribute(93, "DataLabel", "Reason");
                    __builder3.AddAttribute(94, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(95, 
#nullable restore
#line 71 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                   context.Reason

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(96, "\r\n                                        ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(97);
                    __builder3.AddAttribute(98, "DataLabel", "Code");
                    __builder3.AddAttribute(99, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 73 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             if (dictDevices.ContainsKey(context.DeviceId))
                                                

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(100, 
#nullable restore
#line 74 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 dictDevices[context.DeviceId]

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(101, "                                        \r\n                                        ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(102);
                    __builder3.AddAttribute(103, "DataLabel", "Status");
                    __builder3.AddAttribute(104, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 77 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             if (context.TicketStatusId == _ticketService.TicketStatuses.Max(x => x.TicketStatusId) - 2)
                                            {

#line default
#line hidden
#nullable disable
                        __builder4.OpenElement(105, "button");
                        __builder4.AddAttribute(106, "class", "btn btn-danger");
                        __builder4.AddAttribute(107, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 79 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                           () => UpdateTicket(context,true)

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddContent(108, 
#nullable restore
#line 80 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                     context.TicketStatus

#line default
#line hidden
#nullable disable
                        );
                        __builder4.CloseElement();
#nullable restore
#line 82 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                            }
                                            else
                                            {
                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 85 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 if (context.TicketStatusId == 1)
                                                {

#line default
#line hidden
#nullable disable
                        __builder4.OpenElement(109, "button");
                        __builder4.AddAttribute(110, "class", "btn btn-primary btn-primary-extended");
                        __builder4.AddAttribute(111, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 87 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                     () => UpdateTicket(context,true)

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddMarkupContent(112, "\r\n                                                        Abort\r\n                                                    ");
                        __builder4.CloseElement();
#nullable restore
#line 90 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                }
                                                else
                                                {
                                                    

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(113, 
#nullable restore
#line 93 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                     context.TicketStatus

#line default
#line hidden
#nullable disable
                        );
#nullable restore
#line 93 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                         
                                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 94 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 
                                            }

#line default
#line hidden
#nullable disable
                    }
                    ));
                    __builder3.CloseComponent();
                }
                , 114, (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTablePager>(115);
                    __builder3.AddAttribute(116, "PageSizeOptions", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32[]>(
#nullable restore
#line 100 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                        new int[]{50, 100}

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                }
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(117, "\r\n\r\n        ");
                __builder2.AddMarkupContent(118, "<footer class=\"py-4 bg-light mt-auto\"><div class=\"container-fluid\"><div class=\"d-flex align-items-center justify-content-between small\"><div class=\"text-muted\">Sync: online/offline</div></div></div></footer>");
            }
            ));
            __builder.AddAttribute(119, "Authorizing", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(120, "<h1>Loading ...</h1>");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(121, "\r\n\r\n\r\n\r\n");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(122);
            __builder.AddAttribute(123, "Roles", "Team");
            __builder.AddAttribute(124, "Authorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((TicketsForTeam) => (__builder2) => {
                __builder2.OpenElement(125, "div");
                __builder2.AddAttribute(126, "class", "container-fluid container-height");
                __builder2.OpenComponent<ItvTicketsService.Client.Pages.AddTicketComponent>(127);
                __builder2.AddAttribute(128, "OnRefreshParent", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Boolean>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Boolean>(this, 
#nullable restore
#line 181 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 AddTicketRefresh

#line default
#line hidden
#nullable disable
                )));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(129, "\r\n\r\n\r\n\r\n            ");
                __builder2.OpenElement(130, "div");
                __builder2.AddAttribute(131, "class", "col-sm-12");
                __builder2.OpenElement(132, "div");
                __builder2.AddAttribute(133, "class", "card mb-4");
                __builder2.AddMarkupContent(134, "<div class=\"card-header\"><i class=\"fas fa-table mr-1\"></i>\r\n                        Tickets history:\r\n                    </div>\r\n                    ");
                __builder2.OpenElement(135, "div");
                __builder2.AddAttribute(136, "class", "card-body");
                __builder2.OpenElement(137, "div");
                __builder2.AddAttribute(138, "class", "table-responsive");
                __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTable_4(__builder2, 139, 140, 
#nullable restore
#line 200 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                              _ticketService.Tickets

#line default
#line hidden
#nullable disable
                , 141, 
#nullable restore
#line 200 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                             true

#line default
#line hidden
#nullable disable
                , 142, "Sort By", 143, 
#nullable restore
#line 200 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                    true

#line default
#line hidden
#nullable disable
                , 144, "400px", 145, 
#nullable restore
#line 200 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                                 new Func<Tickets,bool>(MyFilterFunc)

#line default
#line hidden
#nullable disable
                , 146, (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudText>(147);
                    __builder3.AddAttribute(148, "Typo", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<MudBlazor.Typo>(
#nullable restore
#line 202 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                   Typo.h6

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(149, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(150, "Tickets search by: [Id] [Client Name] [Plant Name] [Dev Code]");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(151, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudSpacer>(152);
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(153, "\r\n                                    ");
                    __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTextField_5(__builder3, 154, 155, "Search", 156, 
#nullable restore
#line 204 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                              Adornment.Start

#line default
#line hidden
#nullable disable
                    , 157, 
#nullable restore
#line 204 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                               Icons.Material.Filled.Search

#line default
#line hidden
#nullable disable
                    , 158, 
#nullable restore
#line 204 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                                                                       Size.Medium

#line default
#line hidden
#nullable disable
                    , 159, "mt-0", 160, 
#nullable restore
#line 204 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                               searchString1

#line default
#line hidden
#nullable disable
                    , 161, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => searchString1 = __value, searchString1)));
                }
                , 162, (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTh>(163);
                    __builder3.AddAttribute(164, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(165, "Edit");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(166, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(167);
                    __builder3.AddAttribute(168, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_6(__builder4, 169, 170, 
#nullable restore
#line 209 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>x.TicketId)

#line default
#line hidden
#nullable disable
                        , 171, 
#nullable restore
#line 209 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                  SortDirection.Descending

#line default
#line hidden
#nullable disable
                        , 172, (__builder5) => {
                            __builder5.AddContent(173, "Id");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(174, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(175);
                    __builder3.AddAttribute(176, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_7(__builder4, 177, 178, 
#nullable restore
#line 210 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>x.CreatedDate)

#line default
#line hidden
#nullable disable
                        , 179, (__builder5) => {
                            __builder5.AddContent(180, "Date");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(181, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(182);
                    __builder3.AddAttribute(183, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_8(__builder4, 184, 185, 
#nullable restore
#line 211 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>dictClients[x.ClientId])

#line default
#line hidden
#nullable disable
                        , 186, (__builder5) => {
                            __builder5.AddContent(187, "Client Name");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(188, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(189);
                    __builder3.AddAttribute(190, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_9(__builder4, 191, 192, 
#nullable restore
#line 212 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>dictDeviceToPlantName[x.DeviceId])

#line default
#line hidden
#nullable disable
                        , 193, (__builder5) => {
                            __builder5.AddContent(194, "Plant Name");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(195, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(196);
                    __builder3.AddAttribute(197, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_10(__builder4, 198, 199, 
#nullable restore
#line 213 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>dictDevices[x.DeviceId])

#line default
#line hidden
#nullable disable
                        , 200, (__builder5) => {
                            __builder5.AddContent(201, "Dev Code");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(202, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(203);
                    __builder3.AddAttribute(204, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(205, "Reason");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(206, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(207);
                    __builder3.AddAttribute(208, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(209, "Status");
                    }
                    ));
                    __builder3.CloseComponent();
                }
                , 210, (context) => (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTd>(211);
                    __builder3.AddAttribute(212, "DataLabel", "Edit");
                    __builder3.AddAttribute(213, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenElement(214, "a");
                        __builder4.AddAttribute(215, "href", "ticketaddedit/" + (
#nullable restore
#line 219 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                context.TicketId

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.OpenComponent<MudBlazor.MudIcon>(216);
                        __builder4.AddAttribute(217, "Icon", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 220 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                            Icons.Filled.Edit

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(218, "Color", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<MudBlazor.Color>(
#nullable restore
#line 220 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                      Color.Primary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(219, "Title", "Edit");
                        __builder4.CloseComponent();
                        __builder4.CloseElement();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(220, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(221);
                    __builder3.AddAttribute(222, "DataLabel", "Id");
                    __builder3.AddAttribute(223, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(224, 
#nullable restore
#line 223 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                           context.TicketId

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(225, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(226);
                    __builder3.AddAttribute(227, "DataLabel", "Date");
                    __builder3.AddAttribute(228, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(229, 
#nullable restore
#line 224 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                             context.CreatedDate.ToShortDateString()

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(230, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(231);
                    __builder3.AddAttribute(232, "DataLabel", "Client Name");
                    __builder3.AddAttribute(233, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 226 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                         if (dictClients.ContainsKey(context.ClientId))
                                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(234, 
#nullable restore
#line 227 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             dictClients[context.ClientId]

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(235, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(236);
                    __builder3.AddAttribute(237, "DataLabel", "Plant Name");
                    __builder3.AddAttribute(238, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 230 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                         if (dictDeviceToPlantName.ContainsKey(context.DeviceId))
                                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(239, 
#nullable restore
#line 231 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             dictDeviceToPlantName[context.DeviceId]

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(240, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(241);
                    __builder3.AddAttribute(242, "DataLabel", "Code");
                    __builder3.AddAttribute(243, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 234 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                         if (dictDevices.ContainsKey(context.DeviceId))
                                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(244, 
#nullable restore
#line 235 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             dictDevices[context.DeviceId]

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(245, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(246);
                    __builder3.AddAttribute(247, "DataLabel", "Reason");
                    __builder3.AddAttribute(248, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(249, 
#nullable restore
#line 237 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                               context.Reason

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(250, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(251);
                    __builder3.AddAttribute(252, "DataLabel", "Status");
                    __builder3.AddAttribute(253, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 239 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                         if (context.TicketStatusId >= _ticketService.TicketStatuses.Max(x => x.TicketStatusId) - 1)
                                        {
                                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(254, 
#nullable restore
#line 241 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             context.TicketStatus

#line default
#line hidden
#nullable disable
                        );
#nullable restore
#line 241 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                 
                                        }
                                        else
                                        {
                                            btnStatus = "btn btn-primary";

                                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 247 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             if (context.TicketStatusId == (int)TicketStatusMaster.InProgress)
                                            {
                                                btnStatus = "btn btn-success";
                                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 252 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             if (context.TicketStatusId == (int)TicketStatusMaster.Complete)
                                            {
                                                btnStatus = "btn btn-warning";
                                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 257 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             if (context.TicketStatusId == (int)TicketStatusMaster.Approve)
                                            {
                                                btnStatus = "btn btn-danger";
                                            }

#line default
#line hidden
#nullable disable
                        __builder4.OpenElement(255, "button");
                        __builder4.AddAttribute(256, "class", 
#nullable restore
#line 262 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                           btnStatus

#line default
#line hidden
#nullable disable
                        );
                        __builder4.AddAttribute(257, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 262 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                 () => UpdateTicket(context,true)

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddContent(258, 
#nullable restore
#line 263 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 context.TicketStatus

#line default
#line hidden
#nullable disable
                        );
                        __builder4.CloseElement();
#nullable restore
#line 265 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                        }

#line default
#line hidden
#nullable disable
                    }
                    ));
                    __builder3.CloseComponent();
                }
                , 259, (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTablePager>(260);
                    __builder3.AddAttribute(261, "PageSizeOptions", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32[]>(
#nullable restore
#line 269 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                    new int[]{50, 100}

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                }
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(262, "\r\n\r\n        ");
                __builder2.AddMarkupContent(263, "<footer class=\"py-4 bg-light mt-auto\"><div class=\"container-fluid\"><div class=\"d-flex align-items-center justify-content-between small\"><div class=\"text-muted\">Sync: online/offline</div></div></div></footer>");
            }
            ));
            __builder.AddAttribute(264, "Authorizing", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(265, "<h1>Loading ...</h1>");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(266, "\r\n\r\n\r\n\r\n");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(267);
            __builder.AddAttribute(268, "Roles", "Admin");
            __builder.AddAttribute(269, "Authorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((TicketsForAdmin) => (__builder2) => {
                __builder2.OpenElement(270, "div");
                __builder2.AddAttribute(271, "class", "container-fluid container-height");
                __builder2.AddMarkupContent(272, @"<div class=""col-sm-12""><div class=""card mb-4""><div class=""card-header""><div style=""float:left""><i class=""fas fa-plus-square mr-1""></i>
                            Application Logs
                        </div></div>

                    <div class=""card-body""><button class=""btn btn-primary btn-block"" onclick=""location.href='logslist/'"">Manage</button></div></div></div>


            ");
                __builder2.AddMarkupContent(273, @"<div class=""col-sm-12""><div class=""card mb-4""><div class=""card-header""><div style=""float:left""><i class=""fas fa-plus-square mr-1""></i>
                            Administration Office
                        </div></div>

                    <div class=""card-body""><button class=""btn btn-primary btn-block"" onclick=""location.href='administrationoffice/'"">Manage</button></div></div></div>


            ");
                __builder2.AddMarkupContent(274, @"<div class=""col-sm-12""><div class=""card mb-4""><div class=""card-header""><div style=""float:left""><i class=""fas fa-plus-square mr-1""></i>
                            Companies
                        </div></div>

                    <div class=""card-body""><button class=""btn btn-primary btn-block"" onclick=""location.href='companylist/'"">Manage</button></div></div></div>

            ");
                __builder2.AddMarkupContent(275, @"<div class=""col-sm-12""><div class=""card mb-4""><div class=""card-header""><div style=""float:left""><i class=""fas fa-plus-square mr-1""></i>
                            Plants
                        </div></div>

                    <div class=""card-body""><button class=""btn btn-primary btn-block"" onclick=""location.href='plantlist/'"">Manage</button></div></div></div>

            ");
                __builder2.AddMarkupContent(276, @"<div class=""col-sm-12""><div class=""card mb-4""><div class=""card-header""><div style=""float:left""><i class=""fas fa-plus-square mr-1""></i>
                            Contractors
                        </div></div>

                    <div class=""card-body""><button class=""btn btn-primary btn-block"" onclick=""location.href='contractorslist/'"">Manage</button></div></div></div>

            ");
                __builder2.AddMarkupContent(277, @"<div class=""col-sm-12""><div class=""card mb-4""><div class=""card-header""><div style=""float:left""><i class=""fas fa-plus-square mr-1""></i>
                            Devices
                        </div></div>

                    <div class=""card-body""><button class=""btn btn-primary btn-block"" onclick=""location.href='devicelist/'"">Manage</button></div></div></div>

            ");
                __builder2.AddMarkupContent(278, @"<div class=""col-sm-12""><div class=""card mb-4""><div class=""card-header""><div style=""float:left""><i class=""fas fa-plus-square mr-1""></i>
                            Users
                        </div></div>

                    <div class=""card-body""><button class=""btn btn-primary btn-block"" onclick=""location.href='userlist/'"">Manage</button></div></div></div>


            ");
                __builder2.OpenComponent<ItvTicketsService.Client.Pages.AddTicketComponent>(279);
                __builder2.AddAttribute(280, "OnRefreshParent", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Boolean>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Boolean>(this, 
#nullable restore
#line 492 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 AddTicketRefresh

#line default
#line hidden
#nullable disable
                )));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(281, "\r\n\r\n            ");
                __builder2.OpenElement(282, "div");
                __builder2.AddAttribute(283, "class", "col-sm-12");
                __builder2.OpenElement(284, "div");
                __builder2.AddAttribute(285, "class", "card mb-4");
                __builder2.AddMarkupContent(286, "<div class=\"card-header\"><i class=\"fas fa-table mr-1\"></i>\r\n                        Tickets history:\r\n                    </div>\r\n                    ");
                __builder2.OpenElement(287, "div");
                __builder2.AddAttribute(288, "class", "card-body");
                __builder2.OpenElement(289, "div");
                __builder2.AddAttribute(290, "class", "table-responsive");
                __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTable_11(__builder2, 291, 292, 
#nullable restore
#line 503 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                              _ticketService.Tickets

#line default
#line hidden
#nullable disable
                , 293, 
#nullable restore
#line 503 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                             true

#line default
#line hidden
#nullable disable
                , 294, "Sort By", 295, 
#nullable restore
#line 503 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                    true

#line default
#line hidden
#nullable disable
                , 296, "400px", 297, 
#nullable restore
#line 503 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                                 new Func<Tickets,bool>(MyFilterFunc)

#line default
#line hidden
#nullable disable
                , 298, (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudText>(299);
                    __builder3.AddAttribute(300, "Typo", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<MudBlazor.Typo>(
#nullable restore
#line 505 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                   Typo.h6

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(301, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(302, "Tickets search by: [Id] [Client Name] [Plant Name] [Dev Code]");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(303, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudSpacer>(304);
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(305, "\r\n                                    ");
                    __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTextField_12(__builder3, 306, 307, "Search", 308, 
#nullable restore
#line 507 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                              Adornment.Start

#line default
#line hidden
#nullable disable
                    , 309, 
#nullable restore
#line 507 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                               Icons.Material.Filled.Search

#line default
#line hidden
#nullable disable
                    , 310, 
#nullable restore
#line 507 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                                                                       Size.Medium

#line default
#line hidden
#nullable disable
                    , 311, "mt-0", 312, 
#nullable restore
#line 507 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                               searchString1

#line default
#line hidden
#nullable disable
                    , 313, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => searchString1 = __value, searchString1)));
                }
                , 314, (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTh>(315);
                    __builder3.AddAttribute(316, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(317, "Edit");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(318, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(319);
                    __builder3.AddAttribute(320, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_13(__builder4, 321, 322, 
#nullable restore
#line 512 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>x.TicketId)

#line default
#line hidden
#nullable disable
                        , 323, 
#nullable restore
#line 512 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                                  SortDirection.Descending

#line default
#line hidden
#nullable disable
                        , 324, (__builder5) => {
                            __builder5.AddContent(325, "Id");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(326, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(327);
                    __builder3.AddAttribute(328, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_14(__builder4, 329, 330, 
#nullable restore
#line 513 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>x.CreatedDate)

#line default
#line hidden
#nullable disable
                        , 331, (__builder5) => {
                            __builder5.AddContent(332, "Date");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(333, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(334);
                    __builder3.AddAttribute(335, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_15(__builder4, 336, 337, 
#nullable restore
#line 514 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>dictClients[x.ClientId])

#line default
#line hidden
#nullable disable
                        , 338, (__builder5) => {
                            __builder5.AddContent(339, "Client Name");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(340, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(341);
                    __builder3.AddAttribute(342, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_16(__builder4, 343, 344, 
#nullable restore
#line 515 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>dictDeviceToPlantName[x.DeviceId])

#line default
#line hidden
#nullable disable
                        , 345, (__builder5) => {
                            __builder5.AddContent(346, "Plant Name");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(347, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(348);
                    __builder3.AddAttribute(349, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __Blazor.ItvTicketsService.Client.Pages.Index.TypeInference.CreateMudTableSortLabel_17(__builder4, 350, 351, 
#nullable restore
#line 516 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                      new Func<Tickets, object>(x=>dictDevices[x.DeviceId])

#line default
#line hidden
#nullable disable
                        , 352, (__builder5) => {
                            __builder5.AddContent(353, "Dev Code");
                        }
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(354, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(355);
                    __builder3.AddAttribute(356, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(357, "Reason");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(358, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(359);
                    __builder3.AddAttribute(360, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(361, "Status");
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(362, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTh>(363);
                    __builder3.AddAttribute(364, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(365, "Delete");
                    }
                    ));
                    __builder3.CloseComponent();
                }
                , 366, (context) => (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTd>(367);
                    __builder3.AddAttribute(368, "DataLabel", "Edit");
                    __builder3.AddAttribute(369, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenElement(370, "a");
                        __builder4.AddAttribute(371, "href", "ticketaddedit/" + (
#nullable restore
#line 523 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                context.TicketId

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.OpenComponent<MudBlazor.MudIcon>(372);
                        __builder4.AddAttribute(373, "Icon", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 524 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                            Icons.Filled.Edit

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(374, "Color", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<MudBlazor.Color>(
#nullable restore
#line 524 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                      Color.Primary

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(375, "Title", "Edit");
                        __builder4.CloseComponent();
                        __builder4.CloseElement();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(376, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(377);
                    __builder3.AddAttribute(378, "DataLabel", "Id");
                    __builder3.AddAttribute(379, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(380, 
#nullable restore
#line 527 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                           context.TicketId

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(381, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(382);
                    __builder3.AddAttribute(383, "DataLabel", "Date");
                    __builder3.AddAttribute(384, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(385, 
#nullable restore
#line 528 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                             context.CreatedDate.ToShortDateString()

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(386, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(387);
                    __builder3.AddAttribute(388, "DataLabel", "Client Name");
                    __builder3.AddAttribute(389, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 530 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                         if (dictClients.ContainsKey(context.ClientId))
                                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(390, 
#nullable restore
#line 531 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             dictClients[context.ClientId]

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(391, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(392);
                    __builder3.AddAttribute(393, "DataLabel", "Plant Name");
                    __builder3.AddAttribute(394, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 534 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                         if (dictDeviceToPlantName.ContainsKey(context.DeviceId))
                                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(395, 
#nullable restore
#line 535 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             dictDeviceToPlantName[context.DeviceId]

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(396, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(397);
                    __builder3.AddAttribute(398, "DataLabel", "Code");
                    __builder3.AddAttribute(399, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 538 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                         if (dictDevices.ContainsKey(context.DeviceId))
                                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(400, 
#nullable restore
#line 539 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             dictDevices[context.DeviceId]

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(401, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(402);
                    __builder3.AddAttribute(403, "DataLabel", "Reason");
                    __builder3.AddAttribute(404, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.AddContent(405, 
#nullable restore
#line 541 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                               context.Reason

#line default
#line hidden
#nullable disable
                        );
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(406, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(407);
                    __builder3.AddAttribute(408, "DataLabel", "Status");
                    __builder3.AddAttribute(409, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
#nullable restore
#line 543 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                         if (context.TicketStatusId > _ticketService.TicketStatuses.Max(x => x.TicketStatusId))
                                        {
                                            

#line default
#line hidden
#nullable disable
                        __builder4.AddContent(410, 
#nullable restore
#line 545 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             context.TicketStatus

#line default
#line hidden
#nullable disable
                        );
#nullable restore
#line 545 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                 
                                        }
                                        else
                                        {
                                            btnStatus = "btn btn-primary";

                                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 551 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             if (context.TicketStatusId == (int)TicketStatusMaster.InProgress)
                                            {
                                                btnStatus = "btn btn-success";
                                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 556 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             if (context.TicketStatusId == (int)TicketStatusMaster.Complete)
                                            {
                                                btnStatus = "btn btn-warning";
                                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 561 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                             if (context.TicketStatusId == (int)TicketStatusMaster.Approve)
                                            {
                                                btnStatus = "btn btn-danger";
                                            }

#line default
#line hidden
#nullable disable
                        __builder4.OpenElement(411, "button");
                        __builder4.AddAttribute(412, "class", 
#nullable restore
#line 566 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                           btnStatus

#line default
#line hidden
#nullable disable
                        );
                        __builder4.AddAttribute(413, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 566 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                 () => UpdateTicket(context,true)

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddContent(414, 
#nullable restore
#line 567 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                 context.TicketStatus

#line default
#line hidden
#nullable disable
                        );
                        __builder4.CloseElement();
#nullable restore
#line 569 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                        }

#line default
#line hidden
#nullable disable
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(415, "\r\n                                    ");
                    __builder3.OpenComponent<MudBlazor.MudTd>(416);
                    __builder3.AddAttribute(417, "DataLabel", "Delete");
                    __builder3.AddAttribute(418, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<MudBlazor.MudButton>(419);
                        __builder4.AddAttribute(420, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 572 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                               () => DeleteTicket(context)

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(421, "Variant", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<MudBlazor.Variant>(
#nullable restore
#line 572 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                      Variant.Filled

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(422, "Color", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<MudBlazor.Color>(
#nullable restore
#line 572 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                                                                             Color.Error

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(423, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.AddContent(424, "Delete");
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                }
                , 425, (__builder3) => {
                    __builder3.OpenComponent<MudBlazor.MudTablePager>(426);
                    __builder3.AddAttribute(427, "PageSizeOptions", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Int32[]>(
#nullable restore
#line 576 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
                                                                    new int[]{50, 100}

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                }
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(428, "\r\n\r\n        ");
                __builder2.AddMarkupContent(429, "<footer class=\"py-4 bg-light mt-auto\"><div class=\"container-fluid\"><div class=\"d-flex align-items-center justify-content-between small\"><div class=\"text-muted\">Sync: online/offline</div></div></div></footer>");
            }
            ));
            __builder.AddAttribute(430, "Authorizing", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(431, "<h1>Loading ...</h1>");
            }
            ));
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 686 "G:\progetti\blazor\ItvTicketsService\ItvTicketsService\Client\Pages\Index.razor"
       
    /// <summary>
    /// name of company
    /// </summary>
    //private int PlantId = 0;
    private string plantName;

    private string btnStatus = "btn btn-primary btn-primary-extended";
    //private int companyTickets;

    public UserInfo CurrentUserInfo;

    //all users
    public List<UserInfo> users;

    //current user
    public List<Plant> plants;
    public List<Device> devices;

    /// <summary>
    /// used by add ticket components
    /// </summary>
    public List<int> userPlants = new List<int>();
    public List<Device> plantDevices = new List<Device>();
    public List<Company> userCompany = new List<Company>();


    public Dictionary<int, string> dictDevices = new Dictionary<int, string>();
    public Dictionary<int, string> dictClients = new Dictionary<int, string>();
    public Dictionary<int, string> dictPlants = new Dictionary<int, string>();
    public Dictionary<int, string> dictDeviceToPlantName = new Dictionary<int, string>();
    public Dictionary<int, int> dictDeviceLine = new Dictionary<int, int>();

    public Dictionary<int, string> dictCompanyName = new Dictionary<int, string>();
    public Dictionary<int, int> dictCompanyTickets = new Dictionary<int, int>();


    public string SelectedDevice = string.Empty;
    public int SelectedClientId = 0;
    public int SelectedPlantId = 0;
    private string SelectedPlant = string.Empty;

    private string searchString1 = "";
    private string searchString2 = "";


    /// <summary>
    /// used to load tickets on page for logged in user's company
    /// </summary>
    /// <returns></returns>
    protected override async Task OnInitializedAsync()
    {
        //load current user tickets
        await _ticketService.Load();

        CurrentUserInfo = await _userinfoService.UserInfo_GetOne(_ticketService.LoggedInUser.UserId);

        if (_ticketService.LoggedInUser.Role.Contains(RoleType.Client))
        {
            //users non serve

            plants = new List<Plant>();
            devices = new List<Device>();

            //current user plants
            foreach (var plantId in CurrentUserInfo.Plants)
            {
                Plant pl = await _plantService.Plant_GetOne(plantId);
                plants.Add(pl);

                var dvc = await _deviceService.GetDevicesForPlant(plantId);
                devices.AddRange(dvc);

                Company cp = await _companyService.Company_GetOne(pl.IdCompany);
                userCompany.Add(cp);
            }
        }
        else
        {
            //lista utenti ruolo client
            users = await _userinfoService.GetUserList(3);
            dictClients = users.Distinct().ToDictionary(x => x.Id, x => x.UserName);

            plants = await _plantService.GetPlantList();

            devices = await _deviceService.GetDeviceList();
        }

        dictPlants = plants.Distinct().ToDictionary(x => x.Id, x => x.Name);
        dictDevices = devices.Distinct().ToDictionary(x => x.Id, x => x.Code);
        dictDeviceLine = devices.Distinct().ToDictionary(x => x.Id, x => x.NumLinea);

        foreach (var cmp in userCompany)
        {
            if (!dictCompanyName.ContainsKey(cmp.Id)) dictCompanyName[cmp.Id] = cmp.Name;
            if (!dictCompanyTickets.ContainsKey(cmp.Id)) dictCompanyTickets[cmp.Id] = cmp.TicketAmount;
        }
        //dictCompanyName = userCompany.Distinct().ToDictionary(x => x.Id, x => x.Name);
        //dictCompanyTickets = userCompany.Distinct().ToDictionary(x => x.Id, x => x.TicketAmount);


        foreach (var dv in devices)
        {
            if (true)/// !dictDeviceToPlantName.ContainsKey(dv.Id))
            {
                if (dictPlants.ContainsKey(dv.PlantId))
                {
                    dictDeviceToPlantName[dv.Id] = dictPlants[dv.PlantId];
                }
            }
        }

        //plantName
        //Plant pl = await _plantService.Plant_GetOne(PlantId);
        //plantName = pl.Name;

        //Company cp = await _companyService.Company_GetOne(pl.IdCompany);
        //companyName = cp.Name;
        //companyTickets = cp.TicketAmount;

        int clientId = _ticketService.LoggedInUser.UserId;

        _ticketService.TickettoInsert.ClientId = clientId;
        _ticketService.TickettoInsert.TeamId = clientId; //to avoid primary key exception
        _ticketService.TickettoInsert.CloserId = clientId; //to avoid primary key exception
    }

    /// <summary>
    /// used to show error message for tickets creation
    /// </summary>
    public string error { get; set; }

    /// <summary>
    /// Add new ticket. takes TickettoInsert as imput which contains tickets data.
    /// </summary>
    /// <returns></returns>
    public async Task AddTicket()
    {
        error = null;
        try
        {
            if (_ticketService.TickettoInsert.ClientId > 0 && _ticketService.TickettoInsert.DeviceId > 0)
            {
                await _ticketService.AddTicket();
                _ticketService.TickettoInsert = new Tickets();

                error = "Ticket added successfully.";
                await OnInitializedAsync();
            }
            else
            {
                if (_ticketService.TickettoInsert.ClientId == -1)
                {
                    error = "Error, Select a client";
                }
                else
                {
                    error = "Error, Select a device";
                }
            }
        }
        catch (Exception ex)
        {
            error = ex.Message;
        }
    }

    public async Task UpdateTicket(Tickets ticket, bool updateStatus)
    {
        error = null;

        try
        {
            //ticket current state
            Tickets cTicket = await _ticketService.GetTicketsById(ticket.TicketId);

            bool advanceStatus = true;
            if (updateStatus)
            {
                if (cTicket.TicketStatusId == (int)TicketStatusMaster.ToDo)
                {
                    cTicket.OpenDate = DateTime.Now;
                    cTicket.TeamId = _ticketService.LoggedInUser.UserId;
                    if (_ticketService.LoggedInUser.Role.Contains(RoleType.Client))
                    {
                        cTicket.TicketStatusId = (int)TicketStatusMaster.Aborted;
                        cTicket.TicketStatus = _ticketService.TicketStatuses.First(x => x.TicketStatusId == cTicket.TicketStatusId).TicketStatus;
                        cTicket.CloserId = _ticketService.LoggedInUser.UserId;
                        cTicket.CloseDate = DateTime.Now;
                        advanceStatus = false;
                    }
                }

                if (cTicket.TicketStatusId == (int)TicketStatusMaster.Approve)
                {
                    cTicket.CloserId = _ticketService.LoggedInUser.UserId;
                    cTicket.CloseDate = DateTime.Now;
                }

                if (cTicket.TicketStatusId == (int)TicketStatusMaster.Closed)
                {
                    if (!_ticketService.LoggedInUser.Role.Contains(RoleType.Admin))
                    {
                        advanceStatus = false;
                    }
                }

                if (cTicket.TicketStatusId == (int)TicketStatusMaster.Aborted)
                {
                    if (!_ticketService.LoggedInUser.Role.Contains(RoleType.Admin))
                    {
                        advanceStatus = false;
                    }
                }

                if (advanceStatus)
                {
                    if (cTicket.TicketStatusId != (int)TicketStatusMaster.Aborted)
                    {
                        cTicket.TicketStatusId = ticket.TicketStatusId + 1;
                    }
                    else
                    {
                        //restart loop
                        cTicket.TicketStatusId = (int)TicketStatusMaster.ToDo;
                    }

                    cTicket.TicketStatus = _ticketService.TicketStatuses.First(x => x.TicketStatusId == cTicket.TicketStatusId).TicketStatus;
                }
            }

            //aggiorna ticket
            //ticket = cTicket;

            await _ticketService.UpdateTicket(cTicket, updateStatus);

            error = "Ticket updated successfully.";

            await OnInitializedAsync();
        }
        catch (Exception ex)
        {
            error = ex.Message;
        }
    }

    public async Task DeleteTicket(Tickets tk)
    {
        var parameters = new DialogParameters();
        parameters.Add("ContentText", $"Do you really want to delete ticket id={ tk.TicketId }? This process cannot be undone.");
        parameters.Add("ButtonText", "Delete");
        parameters.Add("Color", Color.Error);

        var options = new DialogOptions() { CloseButton = true, MaxWidth = MaxWidth.ExtraSmall };

        var dialog = _dialogService.Show<ItvModalDialog>("Delete", parameters, options);

        var result = await dialog.Result;

        if (!result.Cancelled)
        {
            error = null;
            try
            {
                await _ticketService.DeleteTicket(tk);

                error = "Ticket deleted successfully.";

                await OnInitializedAsync();
            }
            catch (Exception ex)
            {
                error = ex.Message;
            }
        }
    }

    public async Task BuildUserPlants(ChangeEventArgs e)
    {
        userPlants.Clear();
        plantDevices.Clear();

        string usrid = e.Value.ToString();
        int userid = Convert.ToInt32(usrid);

        UserInfo selUser = await _userinfoService.UserInfo_GetOne(userid);

        //copy list
        foreach (var elm in selUser.Plants)
        {
            userPlants.Add(elm);
        }

        _ticketService.TickettoInsert.DeviceId = -1;

        _ticketService.TickettoInsert.ClientId = userid;
        _ticketService.TickettoInsert.TeamId = userid;
        _ticketService.TickettoInsert.CloserId = userid;
    }

    public async Task BuildPlantDevices(ChangeEventArgs e)
    {
        plantDevices.Clear();
        string plid = e.Value.ToString();

        int plantid = Convert.ToInt32(plid);

        plantDevices = await _deviceService.GetDevicesForPlant(plantid);
    }

    protected async Task AddTicketRefresh()
    {
        int k = 0;
        await AddTicket();

        StateHasChanged();
    }

    protected async Task UpdateDeleteTicketRefresh()
    {
        await OnInitializedAsync();

        StateHasChanged();
    }

    protected async Task Refresh()
    {
        StateHasChanged();
    }


    //metodi per ricerca tickets
    private bool MyFilterFunc(Tickets element) => FilterFunc(element, searchString1);

    private bool FilterFunc(Tickets element, string searchString)
    {
        string clientName = "null";
        string deviceName = "null";
        string plantName = "null";

        if (dictClients.ContainsKey(element.ClientId)) clientName = dictClients[element.ClientId];
        if (dictDevices.ContainsKey(element.DeviceId)) deviceName = dictDevices[element.DeviceId];
        if (dictDeviceToPlantName.ContainsKey(element.DeviceId)) plantName = dictDeviceToPlantName[element.DeviceId];

        if (string.IsNullOrWhiteSpace(searchString))
            return true;

        if (element.TicketId.ToString().Equals(searchString))
            return true;

        if (clientName.Equals(searchString, StringComparison.OrdinalIgnoreCase))
            return true;

        if (plantName.Equals(searchString, StringComparison.OrdinalIgnoreCase))
            return true;

        //!!! device name ha spazi...
        if (deviceName.Trim().Equals(searchString, StringComparison.OrdinalIgnoreCase))
            return true;

        //if (deviceName.Contains(searchString, StringComparison.OrdinalIgnoreCase))
        //    return true;

        //if ($"{element.Number} {element.Position} {element.Molar}".Contains(searchString))
        //    return true;

        return false;
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IDialogService _dialogService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IDeviceService _deviceService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IPlantService _plantService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ICompanyService _companyService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ITicketService _ticketService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IUserInfoService _userinfoService { get; set; }
    }
}
namespace __Blazor.ItvTicketsService.Client.Pages.Index
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateMudTable_0<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Collections.Generic.IEnumerable<T> __arg0, int __seq1, global::System.Boolean __arg1, int __seq2, global::System.String __arg2, int __seq3, global::System.Boolean __arg3, int __seq4, global::System.String __arg4, int __seq5, global::Microsoft.AspNetCore.Components.RenderFragment __arg5, int __seq6, global::Microsoft.AspNetCore.Components.RenderFragment<T> __arg6, int __seq7, global::Microsoft.AspNetCore.Components.RenderFragment __arg7)
        {
        __builder.OpenComponent<global::MudBlazor.MudTable<T>>(seq);
        __builder.AddAttribute(__seq0, "Items", __arg0);
        __builder.AddAttribute(__seq1, "Hover", __arg1);
        __builder.AddAttribute(__seq2, "SortLabel", __arg2);
        __builder.AddAttribute(__seq3, "FixedHeader", __arg3);
        __builder.AddAttribute(__seq4, "Height", __arg4);
        __builder.AddAttribute(__seq5, "HeaderContent", __arg5);
        __builder.AddAttribute(__seq6, "RowTemplate", __arg6);
        __builder.AddAttribute(__seq7, "PagerContent", __arg7);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_1<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::MudBlazor.SortDirection __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "InitialDirection", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_2<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_3<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTable_4<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Collections.Generic.IEnumerable<T> __arg0, int __seq1, global::System.Boolean __arg1, int __seq2, global::System.String __arg2, int __seq3, global::System.Boolean __arg3, int __seq4, global::System.String __arg4, int __seq5, global::System.Func<T, global::System.Boolean> __arg5, int __seq6, global::Microsoft.AspNetCore.Components.RenderFragment __arg6, int __seq7, global::Microsoft.AspNetCore.Components.RenderFragment __arg7, int __seq8, global::Microsoft.AspNetCore.Components.RenderFragment<T> __arg8, int __seq9, global::Microsoft.AspNetCore.Components.RenderFragment __arg9)
        {
        __builder.OpenComponent<global::MudBlazor.MudTable<T>>(seq);
        __builder.AddAttribute(__seq0, "Items", __arg0);
        __builder.AddAttribute(__seq1, "Hover", __arg1);
        __builder.AddAttribute(__seq2, "SortLabel", __arg2);
        __builder.AddAttribute(__seq3, "FixedHeader", __arg3);
        __builder.AddAttribute(__seq4, "Height", __arg4);
        __builder.AddAttribute(__seq5, "Filter", __arg5);
        __builder.AddAttribute(__seq6, "ToolBarContent", __arg6);
        __builder.AddAttribute(__seq7, "HeaderContent", __arg7);
        __builder.AddAttribute(__seq8, "RowTemplate", __arg8);
        __builder.AddAttribute(__seq9, "PagerContent", __arg9);
        __builder.CloseComponent();
        }
        public static void CreateMudTextField_5<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::MudBlazor.Adornment __arg1, int __seq2, global::System.String __arg2, int __seq3, global::MudBlazor.Size __arg3, int __seq4, global::System.String __arg4, int __seq5, T __arg5, int __seq6, global::Microsoft.AspNetCore.Components.EventCallback<T> __arg6)
        {
        __builder.OpenComponent<global::MudBlazor.MudTextField<T>>(seq);
        __builder.AddAttribute(__seq0, "Placeholder", __arg0);
        __builder.AddAttribute(__seq1, "Adornment", __arg1);
        __builder.AddAttribute(__seq2, "AdornmentIcon", __arg2);
        __builder.AddAttribute(__seq3, "IconSize", __arg3);
        __builder.AddAttribute(__seq4, "Class", __arg4);
        __builder.AddAttribute(__seq5, "Value", __arg5);
        __builder.AddAttribute(__seq6, "ValueChanged", __arg6);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_6<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::MudBlazor.SortDirection __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "InitialDirection", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_7<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_8<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_9<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_10<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTable_11<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Collections.Generic.IEnumerable<T> __arg0, int __seq1, global::System.Boolean __arg1, int __seq2, global::System.String __arg2, int __seq3, global::System.Boolean __arg3, int __seq4, global::System.String __arg4, int __seq5, global::System.Func<T, global::System.Boolean> __arg5, int __seq6, global::Microsoft.AspNetCore.Components.RenderFragment __arg6, int __seq7, global::Microsoft.AspNetCore.Components.RenderFragment __arg7, int __seq8, global::Microsoft.AspNetCore.Components.RenderFragment<T> __arg8, int __seq9, global::Microsoft.AspNetCore.Components.RenderFragment __arg9)
        {
        __builder.OpenComponent<global::MudBlazor.MudTable<T>>(seq);
        __builder.AddAttribute(__seq0, "Items", __arg0);
        __builder.AddAttribute(__seq1, "Hover", __arg1);
        __builder.AddAttribute(__seq2, "SortLabel", __arg2);
        __builder.AddAttribute(__seq3, "FixedHeader", __arg3);
        __builder.AddAttribute(__seq4, "Height", __arg4);
        __builder.AddAttribute(__seq5, "Filter", __arg5);
        __builder.AddAttribute(__seq6, "ToolBarContent", __arg6);
        __builder.AddAttribute(__seq7, "HeaderContent", __arg7);
        __builder.AddAttribute(__seq8, "RowTemplate", __arg8);
        __builder.AddAttribute(__seq9, "PagerContent", __arg9);
        __builder.CloseComponent();
        }
        public static void CreateMudTextField_12<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::MudBlazor.Adornment __arg1, int __seq2, global::System.String __arg2, int __seq3, global::MudBlazor.Size __arg3, int __seq4, global::System.String __arg4, int __seq5, T __arg5, int __seq6, global::Microsoft.AspNetCore.Components.EventCallback<T> __arg6)
        {
        __builder.OpenComponent<global::MudBlazor.MudTextField<T>>(seq);
        __builder.AddAttribute(__seq0, "Placeholder", __arg0);
        __builder.AddAttribute(__seq1, "Adornment", __arg1);
        __builder.AddAttribute(__seq2, "AdornmentIcon", __arg2);
        __builder.AddAttribute(__seq3, "IconSize", __arg3);
        __builder.AddAttribute(__seq4, "Class", __arg4);
        __builder.AddAttribute(__seq5, "Value", __arg5);
        __builder.AddAttribute(__seq6, "ValueChanged", __arg6);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_13<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::MudBlazor.SortDirection __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "InitialDirection", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_14<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_15<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_16<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
        public static void CreateMudTableSortLabel_17<T>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Func<T, global::System.Object> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1)
        {
        __builder.OpenComponent<global::MudBlazor.MudTableSortLabel<T>>(seq);
        __builder.AddAttribute(__seq0, "SortBy", __arg0);
        __builder.AddAttribute(__seq1, "ChildContent", __arg1);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
